/* SuperServiceMap.
   Copyright (C) 2015 DISIT Lab http://www.disit.org - University of Florence
   This program is free software: you can redistribute it and/or modify
   it under the terms of the GNU Affero General Public License as
   published by the Free Software Foundation, either version 3 of the
   License, or (at your option) any later version.
   This program is distributed in the hope that it will be useful,
   but WITHOUT ANY WARRANTY; without even the implied warranty of
   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
   GNU Affero General Public License for more details.
   You should have received a copy of the GNU Affero General Public License
   along with this program.  If not, see <http://www.gnu.org/licenses/>. */

package servicemap;

import java.util.List;

import javax.ws.rs.client.Client;
import javax.ws.rs.client.ClientBuilder;
import javax.ws.rs.client.WebTarget;
import javax.ws.rs.core.UriBuilder;

import org.glassfish.jersey.client.ClientConfig;

import com.fasterxml.jackson.databind.JsonNode;
import com.fasterxml.jackson.databind.ObjectMapper;
import com.fasterxml.jackson.databind.annotation.JsonSerialize;
import com.vividsolutions.jts.geom.Geometry;
import com.vividsolutions.jts.io.WKTReader;

@JsonSerialize
public class QueryTest2 {

	public static void main(String[] args) {

		/*
		 http://.../api/v1/?selection=43.7723;11.2494&maxDists=1&categories=Accommodation
(deve ritornare dati sia da sm-toscana che sm-test)

http://.../api/v1/?selection=44.4985;11.3342&maxDists=0.5
(deve ritornare dati da sm-emiliaromagna)

http://.../api/v1/?selection=43.78695837311561;9.869842529296875;44.75453548416007;12.48321533203125&categories=CulturalActivity
(deve ritornare dati da sm-toscana,sm-test e sm-emiliaromagna)

http://.../api/v1/?selection=wkt:LINESTRING(11.248284683089423 43.77705897010958,11.156274185042548 43.82958894455573,11.180306777815986 43.86078770493677,11.17344032273786 43.87217366262444,11.231805190901923 44.05207922446089,11.201592788558173 44.156608319952255,11.187859878401923 44.251116674765775,11.220818862776923 44.30027972654917,11.262017593245673 44.347437559025444,11.26682411180036 44.40804839201604,11.289483413558173 44.4592854765315,11.259271011214423 44.48868359713514,11.27506385789411 44.48819374981478,11.29978309617536 44.496030813283305,11.30527626023786 44.499581635949845,11.315404281478095 44.497622588115085,11.32776390061872 44.496857317177174,11.326905593733954 44.499397978011466,11.332076892714667 44.49756136680964,11.337376937728095 44.495847144160464,11.33776317582624 44.49570939193867,11.339608535628486 44.495372662915486,11.343621120314765 44.49471450511948,11.343921527724433 44.49465328076083,11.343658671240973 44.493444086506265,11.34236852870481 44.49365454933383,11.342340365510154 44.49356845099618,11.340843357603717 44.493886535888684,11.340794742565322 44.49394441280285,11.339732252519298 44.49408264751418,11.338648304801154 44.49415965702086)
(deve ritornare dati da sm-toscana,sm-test e sm-emiliaromagna)

		 */
		String selection = "wkt:LINESTRING(11.248284683089423 43.77705897010958,11.156274185042548 43.82958894455573,11.180306777815986 43.86078770493677,11.17344032273786 43.87217366262444,11.231805190901923 44.05207922446089,11.201592788558173 44.156608319952255,11.187859878401923 44.251116674765775,11.220818862776923 44.30027972654917,11.262017593245673 44.347437559025444,11.26682411180036 44.40804839201604,11.289483413558173 44.4592854765315,11.259271011214423 44.48868359713514,11.27506385789411 44.48819374981478,11.29978309617536 44.496030813283305,11.30527626023786 44.499581635949845,11.315404281478095 44.497622588115085,11.32776390061872 44.496857317177174,11.326905593733954 44.499397978011466,11.332076892714667 44.49756136680964,11.337376937728095 44.495847144160464,11.33776317582624 44.49570939193867,11.339608535628486 44.495372662915486,11.343621120314765 44.49471450511948,11.343921527724433 44.49465328076083,11.343658671240973 44.493444086506265,11.34236852870481 44.49365454933383,11.342340365510154 44.49356845099618,11.340843357603717 44.493886535888684,11.340794742565322 44.49394441280285,11.339732252519298 44.49408264751418,11.338648304801154 44.49415965702086)";

		GeometryAdapter ga = new GeometryAdapter();
		
		try {
			Geometry sel =ga.unmarshal(selection);
			System.out.println(sel);
		} catch (Exception e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
	}

}
